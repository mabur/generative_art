<!DOCTYPE html>
<html>
<head>
<title>Progress</title>
<meta charset="utf-8"/>
<script type="application/javascript">
const WIDTH = 1000;
const HEIGHT = 1000;
const NUM_POINTS = 200;
const CX = WIDTH / 2;
const CY = HEIGHT / 2;
const POINT_RADIUS = 4;
const POINT_FONT = '20px courier';
const COLOR = "#499BB5";//"#E1706E";

const points = [
[-0.021725, 0.268470, 0.012077],
[-0.009902, 0.112061, 0.084218],
[-0.034031, 0.146934, 0.016732],
[-0.018927, 0.049185, 0.088872],
[0.003758, 0.115336, 0.074910],
[0.013884, 0.008769, 0.005096],
[0.027907, 0.042199, 0.090105],
[0.003151, 0.259967, 0.018363],
[0.039236, 0.239130, 0.010137],
[0.030532, 0.028194, 0.014404],
[0.016327, 0.221239, 0.023057],
[0.042446, 0.123364, 0.031631],
[-0.021723, 0.268672, 0.016732],
[-0.024794, 0.017483, 0.005096],
[-0.020469, 0.010626, 0.014404],
[-0.036288, 0.106114, 0.030694],
[-0.041134, 0.240053, 0.005096],
[-0.012791, 0.058191, 0.000033],
[-0.026333, 0.262575, 0.000553],
[0.051500, 0.120990, 0.003980],
[0.053999, 0.209461, 0.009750],
[-0.011116, 0.006478, 0.035349],
[0.039054, 0.223248, 0.000374],
[0.020978, 0.030573, 0.081891],
[-0.006347, 0.026348, 0.088366],
[-0.002100, 0.000742, 0.026040],
[0.055770, 0.148172, 0.005096],
[0.032613, 0.248283, 0.005096],
[-0.018584, 0.146757, 0.053164],
[-0.022837, 0.171767, 0.043778],
[0.028469, 0.092470, 0.070255],
[0.025806, 0.038354, 0.090105],
[0.038384, 0.071219, 0.007423],
[-0.024037, 0.264818, 0.024215],
[-0.033049, 0.069770, 0.084218],
[-0.004152, 0.019770, 0.081891],
[-0.029334, 0.199072, 0.035780],
[-0.042223, 0.235527, 0.012077],
[0.042034, 0.087561, 0.002769],
[0.027988, 0.039569, 0.070255],
[-0.035737, 0.185530, 0.030694],
[0.045198, 0.091563, 0.009750],
[0.049465, 0.141437, 0.000113],
[-0.004339, 0.026325, 0.090105],
[0.003125, 0.257698, 0.000000],
[0.008343, 0.119217, 0.068305],
[-0.017901, 0.008693, 0.007423],
[-0.018688, 0.137681, 0.002078],
[-0.029908, 0.149156, 0.007760],
[-0.037918, 0.242285, 0.001192],
[-0.024298, 0.104394, 0.090105],
[-0.029432, 0.099228, 0.090105],
[-0.030588, 0.068607, 0.090105],
[-0.034127, 0.076590, 0.086545],
[-0.021024, 0.049209, 0.086545],
[-0.030900, 0.260358, 0.023871],
[0.004769, 0.005798, 0.002599],
[-0.014918, 0.268149, 0.012077],
[-0.003127, 0.108864, 0.090105],
[0.025334, 0.017278, 0.016732],
[-0.028546, 0.267566, 0.019059],
[0.057089, 0.200348, 0.012077],
[-0.033937, 0.083395, 0.090105],
[0.034952, 0.046297, 0.016732],
[0.051467, 0.118106, 0.005096],
[0.032795, 0.073552, 0.090105],
[-0.018610, 0.144488, 0.001391],
[0.025358, 0.019398, 0.009750],
[-0.028263, 0.135522, 0.046984],
[0.037358, 0.075787, 0.002769],
[-0.035943, 0.196879, 0.030694],
[-0.040091, 0.235503, 0.016732],
[-0.031839, 0.178678, 0.035558],
[-0.035883, 0.221839, 0.001413],
[-0.030863, 0.263528, 0.002769],
[-0.013070, 0.028695, 0.079564],
[-0.031750, 0.131023, 0.040003],
[0.052439, 0.202671, 0.016737],
[-0.018896, 0.010608, 0.005096],
[-0.040254, 0.190120, 0.012077],
[-0.020559, 0.010627, 0.009750],
[-0.011095, 0.008249, 0.001746],
[0.007691, 0.259915, 0.001159],
[0.032478, 0.243746, 0.013919],
[-0.018388, 0.008333, 0.012077],
[0.002446, 0.001262, 0.009750],
[-0.039777, 0.205999, 0.007423],
[0.047847, 0.198185, 0.000000],
[-0.031132, 0.135555, 0.040003],
[-0.014432, 0.112945, 0.081891],
[-0.015557, 0.015108, 0.000000],
[-0.008199, 0.260098, 0.022617],
[0.048148, 0.102875, 0.009750],
[0.054069, 0.207191, 0.005096],
[0.032844, 0.078090, 0.000000],
[0.041245, 0.216415, 0.000026],
[0.023809, 0.255191, 0.014404],
[-0.041218, 0.240054, 0.014404],
[-0.036168, 0.244534, 0.019059],
[0.043210, 0.091586, 0.002769],
[-0.039825, 0.255922, 0.009750],
[-0.035275, 0.201409, 0.030694],
[0.000189, 0.002396, 0.035349],
[0.049543, 0.148243, 0.000000],
[0.045622, 0.096097, 0.005096],
[0.037462, 0.084844, 0.000000],
[-0.019288, 0.012882, 0.002769],
[0.040982, 0.075727, 0.009750],
[0.039467, 0.239127, 0.009750],
[0.034722, 0.241451, 0.013176],
[0.045159, 0.161909, 0.027234],
[-0.021141, 0.121825, 0.064086],
[0.004925, 0.019411, 0.087886],
[0.011595, 0.007099, 0.005096],
[-0.032877, 0.133306, 0.035349],
[0.047403, 0.159614, 0.025943],
[0.023347, 0.014661, 0.014404],
[0.047899, 0.202723, 0.019010],
[-0.021376, 0.101405, 0.007811],
[-0.013287, 0.212503, 0.032138],
[-0.019454, 0.268554, 0.012077],
[-0.008126, 0.266461, 0.012077],
[-0.026360, 0.260306, 0.000000],
[0.032802, 0.067150, 0.090105],
[0.050183, 0.111929, 0.012077],
[0.045238, 0.168716, 0.025963],
[-0.033132, 0.106078, 0.019059],
[0.000881, 0.259993, 0.000294],
[0.032452, 0.241477, 0.014242],
[-0.006607, 0.003714, 0.035349],
[-0.024037, 0.067397, 0.005741],
[-0.023605, 0.104971, 0.090105],
[-0.028322, 0.264867, 0.002769],
[-0.031923, 0.094583, 0.090105],
[0.026738, 0.139428, 0.047950],
[-0.028525, 0.071987, 0.009979],
[0.034896, 0.059913, 0.007423],
[0.025509, 0.098597, 0.070255],
[0.012205, 0.257594, 0.000735],
[0.046669, 0.116507, 0.023713],
[-0.006581, 0.005928, 0.002307],
[-0.033301, 0.062965, 0.023713],
[0.017786, 0.105493, 0.074910],
[0.012269, 0.263194, 0.007423],
[0.029250, 0.039555, 0.056293],
[-0.029053, 0.028878, 0.023713],
[-0.022837, 0.171767, 0.000121],
[-0.017514, 0.239782, 0.025469],
[-0.032503, 0.058418, 0.021386],
[-0.033222, 0.255847, 0.000035],
[-0.010156, 0.089930, 0.002847],
[-0.018166, 0.183059, 0.042478],
[-0.015609, 0.010570, 0.002071],
[0.034540, 0.225569, 0.000000],
[0.028126, 0.035029, 0.044657],
[-0.038672, 0.210525, 0.005096],
[0.036888, 0.232349, 0.001203],
[-0.035977, 0.228648, 0.021386],
[0.015020, 0.107575, 0.074910],
[0.052283, 0.189057, 0.000060],
[-0.004373, 0.000565, 0.019059],
[0.002491, 0.005107, 0.002769],
[0.036758, 0.221005, 0.016607],
[0.026801, 0.032775, 0.046984],
[0.025571, 0.037940, 0.090105],
[0.001507, 0.117026, 0.074484],
[-0.030828, 0.266613, 0.012077],
[-0.033952, 0.192317, 0.001689],
[-0.002107, 0.000160, 0.019059],
[-0.022524, 0.198994, 0.037709],
[-0.040241, 0.219620, 0.007423],
[0.036139, 0.053091, 0.014404],
[-0.006367, 0.024537, 0.086545],
[0.007062, 0.007804, 0.046984],
[-0.029412, 0.192265, 0.000005],
[-0.003597, 0.265435, 0.005096],
[0.025404, 0.023346, 0.005096],
[-0.011069, 0.010518, 0.000342],
[0.023748, 0.257461, 0.012077],
[-0.000580, 0.132935, 0.063304],
[-0.011800, 0.144410, 0.055194],
[0.024463, 0.028264, 0.046984],
[0.034847, 0.050836, 0.023713],
[-0.008157, 0.263741, 0.019059],
[0.051079, 0.123264, 0.002769],
[0.034618, 0.232375, 0.000377],
[0.012743, 0.106958, 0.079564],
[0.007010, 0.003255, 0.007423],
[-0.014044, 0.146705, 0.054067],
[0.044533, 0.107455, 0.000831],
[0.029352, 0.025938, 0.012077],
[0.023190, 0.028278, 0.000494],
[0.003908, 0.128345, 0.065272],
[-0.030995, 0.069746, 0.090105],
[0.012441, 0.103917, 0.090105],
[-0.031369, 0.219518, 0.026267],
[-0.017185, 0.268406, 0.014404],
[0.042827, 0.100667, 0.026040],
[-0.023541, 0.110537, 0.079564],
[0.010926, 0.146418, 0.051095],
[-0.012776, 0.041104, 0.090105],
[0.025337, 0.017527, 0.014404],
[-0.016131, 0.162613, 0.000000],
[-0.024403, 0.233053, 0.025042],
[-0.016262, 0.151268, 0.052525],
[0.034378, 0.073534, 0.060947],
[-0.011152, 0.003337, 0.019059],
[0.052595, 0.211746, 0.009750],
[0.057447, 0.186729, 0.005096],
[-0.018042, 0.008329, 0.016732],
[-0.028542, 0.267923, 0.014404],
[-0.036069, 0.081151, 0.079564],
[0.040624, 0.236845, 0.009750],
[-0.006567, 0.007160, 0.044657],
[-0.021365, 0.015175, 0.002769],
[-0.025638, 0.017493, 0.007423],
[0.036758, 0.221005, 0.000000],
[0.054202, 0.164074, 0.019059],
[0.009393, 0.013074, 0.058620],
[0.050221, 0.207235, 0.001542],
[0.002499, 0.005824, 0.045815],
[0.028065, 0.254797, 0.007423],
[-0.035822, 0.081148, 0.026040],
[0.047423, 0.100614, 0.012077],
[-0.007664, 0.109190, 0.090105],
[0.015336, 0.135021, 0.056671],
[-0.028541, 0.267999, 0.016732],
[0.002578, 0.012694, 0.065601],
[-0.004255, 0.010783, 0.056293],
[-0.002086, 0.001942, 0.033021],
[-0.020071, 0.017429, 0.039446],
[0.019154, 0.010171, 0.012077],
[0.040645, 0.164230, 0.029696],
[0.044075, 0.087038, 0.009750],
[0.030976, 0.037266, 0.028367],
[0.051732, 0.211756, 0.005096],
[0.056666, 0.150431, 0.007423],
[-0.022759, 0.178573, 0.042078],
[-0.001850, 0.022504, 0.088872],
[0.025732, 0.092935, 0.090105],
[0.020872, 0.024136, 0.000442],
[-0.016444, 0.135386, 0.059336],
[0.049256, 0.123285, 0.001071],
[0.035792, 0.137055, 0.040144],
[0.000907, 0.262262, 0.001657],
[-0.035979, 0.196879, 0.002769],
[-0.036635, 0.210502, 0.002769],
[0.047769, 0.191379, 0.021248],
[0.016223, 0.014743, 0.001754],
[-0.040901, 0.246858, 0.012077],
[0.025903, 0.066823, 0.000000],
[0.050169, 0.202697, 0.000474],
[0.023372, 0.241581, 0.000000],
[0.035328, 0.243713, 0.012077],
[-0.016757, 0.108159, 0.004755],
[-0.034459, 0.067517, 0.026040],
[0.018609, 0.019254, 0.049311],
[0.018507, 0.015896, 0.002769],
[-0.038991, 0.217336, 0.005096],
[-0.014461, 0.110452, 0.086545],
[0.005452, 0.262623, 0.002769],
[0.038541, 0.064409, 0.014404],
[-0.033470, 0.090198, 0.090105],
[-0.039595, 0.258189, 0.014404],
[-0.005199, 0.126180, 0.068904],
[0.020563, 0.107731, 0.067928],
[0.005993, 0.112252, 0.077237],
[0.014534, 0.262706, 0.009750],
[0.030098, 0.089467, 0.067928],
[0.002593, 0.014052, 0.070255],
[0.007665, 0.257646, 0.000126],
[-0.023202, 0.140002, 0.052692],
[0.007186, 0.018589, 0.084218],
[-0.023409, 0.117312, 0.065601],
[-0.028577, 0.264870, 0.023257],
[-0.004340, 0.003426, 0.005096],
[0.032052, 0.037253, 0.009750],
[-0.009452, 0.151190, 0.052578],
[0.055716, 0.200364, 0.014404],
[0.049804, 0.170932, 0.022865],
[-0.032489, 0.162801, 0.035349],
[-0.025420, 0.144566, 0.004736],
[-0.033108, 0.265749, 0.016732],
[0.031050, 0.050745, 0.090105],
[-0.009556, 0.142115, 0.056660],
[-0.031082, 0.244476, 0.022515],
[0.020744, 0.013008, 0.009750],
[0.042081, 0.091599, 0.001486],
[-0.026300, 0.265442, 0.002769],
[-0.035259, 0.085680, 0.086545],
[0.013866, 0.007185, 0.007423],
[-0.037814, 0.251361, 0.001862],
[0.052492, 0.127787, 0.014404],
[-0.004321, 0.005074, 0.002769],
[0.000300, 0.012039, 0.063274],
[-0.030847, 0.264896, 0.022036],
[0.030191, 0.252849, 0.009750],
[-0.014073, 0.262434, 0.023713],
[-0.021480, 0.092329, 0.008033],
[-0.008123, 0.266696, 0.009750],
]

const NUM_POINST = points.length;
var numbers = new Array(NUM_POINTS);
var angle = 0.0;

var FOOT_CX = 0.0;
var FOOT_CY = 0.0;
var FOOT_CZ = 0.0;

function init()
{
    for(var i = 0; i < points.length; i++)
    {
        numbers[i] = sampleRandomInteger();
        FOOT_CX += points[i][0];
        FOOT_CY += points[i][1];
        FOOT_CZ += points[i][2];
    }
    FOOT_CX /= points.length;
    FOOT_CY /= points.length;
    FOOT_CZ /= points.length;
    for(var i = 0; i < points.length; i++)
    {
        points[i][0] -= FOOT_CX;
        points[i][1] -= FOOT_CY;
        points[i][2] -= FOOT_CZ;
    }
    window.requestAnimationFrame(draw);
}

function sampleRandomInteger()
{
  min = 0;
  max = 999;
  return Math.floor(Math.random() * (max - min + 1)) + min;
}

function drawCircle(context, x, y, r)
{
    context.beginPath();
    context.arc(x, y, r, 0, 2 * Math.PI);
    context.fill();    
}

function rotateY(point, angle)
{
    return [
        point[0] * Math.cos(angle) + point[2] * Math.sin(angle),
        point[1],
        -point[0] * Math.sin(angle) + point[2] * Math.cos(angle)]
}

function rotateX(point, angle)
{
    return [point[0],
        point[1] * Math.cos(angle) - point[2] * Math.sin(angle),
        point[1] * Math.sin(angle) + point[2] * Math.cos(angle)]
}

function draw()
{
    const canvas = document.getElementById('canvas');
    const context = canvas.getContext('2d');
    context.clearRect(0, 0, WIDTH, HEIGHT);
    var time = new Date();
    angle = 0.0003 * time.getTime();
    const milli_seconds = time.getTime();
    const number = (4 * milli_seconds) % 9000 + 1000;
    const text = "MEASURING FEET " + number;
    context.font = '40px courier';
    context.fillStyle = COLOR;
    const text_width2 = context.measureText(text).width;
    const text_x2 = CX - text_width2 / 2;
    const text_y2 = CY + 150;
    context.fillText(text, text_x2, text_y2);

    for (var i = 0; i < Math.min(points.length, NUM_POINTS); i++)
    {
        //const p = rotateX(points[i], 0.1 * Math.PI);
        const p = rotateY(points[i], 0.1 * Math.PI);
        x = +p[1] * 3000;
        y = -p[2] * 3000;
        z = +p[0] * 3000;

        xp = x * Math.sin(angle) + z * Math.cos(angle) + CX;
        yp = y + CY - 100;

        context.font = POINT_FONT;
        const number = (numbers[i] + Math.round(0.05 * time.getMilliseconds())) % 1000;
        context.fillText(number, xp - 17, yp - 10);
        drawCircle(context, xp, yp, POINT_RADIUS);
    }

    context.stroke();
    window.requestAnimationFrame(draw);
}
init();
</script>
</head>
<body bgcolor="#10162E">
<center>
<canvas id="canvas" width="1000" height="1000"></canvas>
</body>
</html>
